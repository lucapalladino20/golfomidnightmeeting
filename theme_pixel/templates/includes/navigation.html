{% load static %}
{% load htmltags %}


<header class="header-global">


    {% if request.path == "/landing-freelancer/" or request.path == "/blank/" %}
    <nav id="navbar-main" aria-label="Primary navigation" class="navbar navbar-main navbar-expand-lg navbar-theme-primary headroom navbar-light navbar-theme-secondary">
    {% else %}
    <nav id="navbar-main" aria-label="Primary navigation" class="navbar navbar-main navbar-expand-lg navbar-theme-primary headroom navbar-dark navbar-theme-secondary">
    {% endif %}  

      <div class="container position-relative">
          <a class="navbar-brand me-lg-5" href="/">
              <img class="navbar-brand-dark" src="{% static 'assets/img/brand/gmm_dark.svg' %}" alt="Logo dark">
              <img class="navbar-brand-light" src="{% static 'assets/img/brand/gmm_dark.svg' %}" alt="Logo light">
            </a>
                    
          <div class="navbar-collapse collapse me-auto" id="navbar_global">
            <div class="navbar-collapse-header">
                <div class="row">
                    <div class="col-6 collapse-brand">
                        <a href="/">
                            <img src="{% static 'assets/img/brand/gmm_dark.svg' %}" alt="Themesberg logo">
                        </a>
                    </div>
                    <div class="col-6 collapse-close">
                        <a href="#navbar_global" class="fas fa-times" data-bs-toggle="collapse" data-bs-target="#navbar_global" aria-controls="navbar_global" aria-expanded="false" title="close" aria-label="Toggle navigation"></a>
                    </div>
                </div>
            </div>

            <ul class="navbar-nav navbar-nav-hover align-items-lg-center">
              <li class="nav-item dropdown">
                  <a href="/" class="nav-link" aria-expanded="false">
                      Home
                  </a>
              </li>
              <li class="nav-item dropdown">
                  <a href="{% url 'events' %}" class="nav-link" aria-expanded="false">
                      Eventi
                  </a>
              </li>
              <li class="nav-item dropdown">
                  <a href="{% url 'contact_us' %}" class="nav-link" aria-expanded="false">
                      Contatti
                  </a>
              </li>
            </ul>

            
            <ul class="navbar-nav navbar-nav-hover align-items-lg-center ms-lg-auto">
                <li class="nav-item dropdown">
                    {% if request.user.is_authenticated %}                 
                        <div class="dropdown">
                          <a href="{% url 'login' %}"
                             class="btn btn-outline-gray-100 d-lg-inline d-md-inline d-sm-inline d-xs-inline me-md-3 d-lg-static d-md-static d-sm-static d-mobile-absolute"
                             data-bs-toggle="dropdown"
                             aria-expanded="false">
                            <span class="fas fa-user me-2"></span>
                            {{ user.username }}
                            <span class="fas fa-caret-down"></span>
                          </a>
                          <ul class="dropdown-menu dropdown-menu-end mt-2" aria-labelledby="navbarDropdown" data-bs-popper="none" style="border-radius: 10px;">
                            <li><a class="dropdown-item" href="{% url 'my_garage' %}">Garage</a></li>
                            <li><a class="dropdown-item" href="{% url 'my_account' %}">Account</a></li>
                            <li><hr class="dropdown-divider" style="border-color: black;"></li>
                            <li><a class="dropdown-item" href="{% url 'logout' %}">Esci</a></li>
                          </ul>
                        </div>
                      {% else %}
                        <a href="{% url 'login' %}" class="btn btn-outline-gray-100 d-lg-inline d-md-inline d-sm-inline d-xs-inline me-md-3 d-lg-static d-md-static d-sm-static d-mobile-absolute"><span class="fas fa-sign-in-alt me-2"></span> Login</a>            
                    {% endif %}
                </li>
            </ul> 
            
            



































        
        </div>

          <div class="d-flex align-items-center">              

              <button class="navbar-toggler ms-2" type="button" data-bs-toggle="collapse" data-bs-target="#navbar_global" aria-controls="navbar_global" aria-expanded="false" aria-label="Toggle navigation">
                  <span class="navbar-toggler-icon"></span>
              </button>

              <script>
                document.addEventListener('DOMContentLoaded', function() {
                    var navbarGlobal = document.getElementById('navbar_global');
                  
                    navbarGlobal.addEventListener('show.bs.collapse', function() {
                      document.body.style.overflow = 'hidden';
                    });
                  
                    navbarGlobal.addEventListener('hide.bs.collapse', function() {
                      document.body.style.overflow = '';
                    });
                  });
              </script>

          </div>
      </div>
  </nav>
</header>